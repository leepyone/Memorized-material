1、HTTP 与 HTTPS 有哪些区别
- http 是超文本传输协议，传输的过程中报文是明文的，存在被泄露、篡改的风险。https在http和tcp之间添加了ssl tls安全协议，对报文进行了加密
- https 比http的tcp连接建立多了ssl的握手
- 两个的端口不同 http 80 https 443
- https 需要想ca申请证书来保证服务器的身份是可信的。

2、https 如何确保内容没被修改
1. 利用hash算法对报文运算获取一个哈希值，然后将内容和hash值一同发送，服务端进行验证hash值来判断是否篡改了内容。
2. 客户端用公钥加密hash值获得数字签名，然后服务器段用私钥解密获取hash值。

3、https握手建立的过程（RSA）
1. ClientHello：客户端发送支持的tls版本协议，随机数（构建会话秘钥）、支持的加密算法 RSA
2. ServerHello：确认tls版本协议、随机数、确认加密算法、数字证书
3. 客户端回应：验证证书、从证书中去取公钥，加密一个随机数发送给服务端。使用这三个随机数构建会话秘钥
4. 服务器响应：使用私钥机密公钥加密的随机数，使用三个随机数构造会话秘钥

4、证书链的校验
根证书是可靠的，利用他的公钥解密数字签名来验证下一个证书的合法性，依次向下验证证书的合法性。

5、简述tcp 三次握手
1. 一开始服务器和客户端区域close状态，服务器监听某个端口切换成监听状态
2. 客户端随机初始化序号，并将syn设置成1发送请求建立连接报文，处于sys-sent状态
3. 服务器接收到报文后，随机初始化序号，将确认应答好设置为 客户端序号+1，并将syn 和ack设置为1 返回报文，处于syn-rcvd状态
4. 客户端收到报文后，将确认应答号设置为 服务器序号加一，将ack 设置为1 发送报文（可以携带数据） 进入ESTABLISHED状态

5、为什么是三次
1. 阻止重复历史连接的初始化
2. 同步双方的初始化序列号
3. 避免资源浪费

6、ip层会分片为什么tcp 层还需要mss
如果使用ip层的分片，如果丢失的话就需要将全部的报文重新发送一遍，tcp进行分片，进行重发时也是以 MSS 为单位，而不用重传所有的分片，大大增加了重传的效率。
- MTU：一个网络包的最大长度，以太网中一般为 1500 字节；
- MSS：除去 IP 和 TCP 头部之后，一个网络包所能容纳的 TCP 数据的最大长度；

7、简述tcp四次挥手
1. 客户端发送一个 fin为一的报文，请求断开连接进入 fin_wait1 状态
2. 服务器端收到报文 发送ack报文 进入close_wait状态
3. 客户端收到ack报文进行fin_wait2状态
4. 服务器端发送 fin为1的报文，请求断开连接 last_ack状态
5. 客户端接受到报文 发送ack报文进入time_wait状态
6. 服务器接收到报文进行入close状态，客户端经过2msl时间进入close状态

8、 2msl的原因
msl是报文的最大存活时间，允许报文丢失一次，2msl还没有接受到服务器的报文说明已经关闭了。